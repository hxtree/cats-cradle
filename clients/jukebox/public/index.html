<!DOCTYPE html>
<html class="no-js">
  <head>
    <title>Cats Cradle Jukebox</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <link rel="stylesheet" href="css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=VT323&display=swap"
      rel="stylesheet"
    />

    <script type="text/javascript" src="js/libxmp.js"></script>
    <script type="text/javascript" src="js/chiptune.js"></script>
    <script type="text/javascript">
      // support webkit-prefix for chrome (and friends)
      if (window.webkitAudioContext !== undefined) {
        AudioContext = webkitAudioContext;
      }
      // support moz-prefix for Firefox (and friends)
      if (window.mozAudioContext !== undefined) {
        AudioContext = mozAudioContext;
      }

      var context = new AudioContext();
      var player = new ChiptunePlayer(context.destination);

      window.onload = function () {
        document.getElementById('play').onclick = function () {
          player.play();
        };
        document.getElementById('pause').onclick = function () {
          player.pause();
        };
        document.getElementById('loop').onclick = function () {
          player.setLooping(this.checked);
        };

        var fileaccess = document.querySelector('*');
        fileaccess.ondrop = function (e) {
          var file = e.dataTransfer.files[0];
          try {
            player.unload();
          } catch (err) {}

          var loop = document.getElementById('loop').checked;
          player.load(file, loop, function () {
            document.querySelector('.loadedfile').innerHTML = file.name;
          });
          e.preventDefault();
        };
        fileaccess.ondragenter = function (e) {
          e.preventDefault();
        };
        fileaccess.ondragover = function (e) {
          e.preventDefault();
        };

        var demolink = document.querySelector('#demosong');
      };

      function playSong(filepath) {
        try {
          player.unload();
        } catch (e) {}
        var loop = document.getElementById('loop').checked;
        player.load(`songs/${filepath}.it`, loop, function () {
          document.querySelector('.loadedfile').innerHTML = filepath;
        });
      }

      function playSoundEffect(filepath) {
        try {
          player.unload();
        } catch (e) {}
        var loop = document.getElementById('loop').checked;
        player.load(`sound-effects/${filepath}.it`, loop, function () {
          document.querySelector('.loadedfile').innerHTML = filepath;
        });
      }
    </script>
  </head>
  <body>
    <nav
      class="navbar sticky-top navbar-dark bg-warning border-dark border-bottom border-3"
    >
      <div class="container-fluid">
        <span
          class="navbar-brand mb-0 fs-1 border-dark border border-3 px-4 bg-white text-dark"
          >Cats Cradle::Jukebox</span
        >

        <div id="info" class="d-flex text-center bg-info px-4 rounded-0">
          Loaded: <span class="loadedfile d-inline-block px-4">nothing</span>
        </div>

        <div id="controls" class="d-flex">
          <button
            id="play"
            class="control border-3 border-dark rounded-0 bg-success rounded-circle"
            type="submit"
          ></button>
          <button
            id="pause"
            class="control border-3 border-dark rounded-0 bg-danger rounded-circle"
            type="submit"
          ></button>

          <input type="checkbox" id="loop" />
          <label
            for="loop"
            class="control border-3 border-dark rounded-0 bg-secondary rounded-circle"
          ></label>
        </div>
      </div>
    </nav>

    <div class="container">
      <h2 class="text-light text-center">Soundtracks</h2>

      <div class="m-4 row row-cols-1 row-cols-md-4 g-4">
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('battle-1')"
                >battle-1</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('battle-2')"
                >battle-2</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('bad-guy-1')"
                >bad-guy-1</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('boss-battle-1')"
                >boss-battle-1</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('battle-end-1')"
                >battle-end-1</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('battle-end-2')"
                >battle-end-2</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('cave-1')"
                >cave-1</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('cave-2')"
                >cave-2</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('faye-theme')"
                >faye-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('forrest-1')"
                >forrest-1</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('game-over')"
                >game-over</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('gunter-theme')"
                >gunter-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('loomee-theme')"
                >loomee-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('menu')">menu</a>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('malace-theme')"
                >malace-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('mini-game-1')"
                >mini-game-1</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('mining-theme')"
                >mining-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('pretty-theme')"
                >pretty-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a
                href="#"
                class="text-light"
                onclick="playSong('something-theme')"
                >something-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('title-3')"
                >title-3</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('traez-theme')"
                >traez-theme</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSong('vachel-theme')"
                >vachel-theme</a
              >
            </div>
          </div>
        </div>
      </div>

      <h2 class="text-light text-center">Sound Effects</h2>

      <div class="m-4 row row-cols-1 row-cols-md-4 g-4">
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('1')"
                >1</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('2')"
                >2</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('3')"
                >3</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('4')"
                >4</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('5')"
                >5</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('6')"
                >6</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('7')"
                >7</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('8')"
                >8</a
              >
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('9')"
                >9</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('10')"
                >10</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('11')"
                >11</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('12')"
                >12</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('13')"
                >13</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('14')"
                >14</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('15')"
                >15</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('16')"
                >16</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('17')"
                >17</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('18')"
                >18</a
              >
            </div>
          </div>
        </div>
        <div class="col">
          <div class="card bg-primary rounded-0 border-0">
            <div class="card-body">
              <a href="#" class="text-light" onclick="playSoundEffect('19')"
                >19</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
